CREATE PROCEDURE UP_TASK_MOVE(
  SCHEDULERSETNO INTEGER,
  SCHEDULESEQUENCENO INTEGER,
  TOCOPY INTEGER)
AS
DECLARE VARIABLE xSCHEDULESEQUENCENO INTEGER;
begin

FOR SELECT SCHEDULESEQUENCENO 
  FROM SCHEDULE 
  WHERE SCHEDULERSETNO = :SCHEDULERSETNO AND SCHEDULESEQUENCENO >= :SCHEDULESEQUENCENO 
  ORDER BY SCHEDULESEQUENCENO DESC 
  INTO :xSCHEDULESEQUENCENO
DO BEGIN
	UPDATE SCHEDULE SET SCHEDULESEQUENCENO = SCHEDULESEQUENCENO + :TOCOPY 
		WHERE SCHEDULERSETNO = :SCHEDULERSETNO AND SCHEDULESEQUENCENO = :xSCHEDULESEQUENCENO;
END

end;